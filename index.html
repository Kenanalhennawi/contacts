<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Share Department Contact with Passenger</title>
  <meta name="color-scheme" content="light" />
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <main class="wrap">
    <header class="top">
      <h1>Share Department Contact with Passenger</h1>
      <p>Select department and city, then send the official contact to the passenger via email and/or WhatsApp.</p>
    </header>

    <section class="card">
      <div class="grid grid-3">
        <div class="field">
          <label for="dept-select">Department</label>
          <select id="dept-select" class="select"></select>
        </div>
        <div class="field suggest-wrap">
          <label for="search-input">Search City / Country / IATA</label>
          <input id="search-input" class="input" type="text" placeholder="Type city, country or IATA" autocomplete="off" />
          <div id="suggestions-container" class="suggest"></div>
        </div>
        <div class="field">
          <label for="city-select">City / Station</label>
          <select id="city-select" class="select"></select>
        </div>
      </div>
    </section>

    <section id="contact-card" class="card contact-card" hidden>
      <div class="contact-card__head">
        <h2 id="card-title" class="contact-card__title"></h2>
        <span id="card-badge" class="pill offline" hidden>Offline</span>
      </div>
      <div class="card-cols">
        <div>
          <div class="group">
            <div class="label">Emails</div>
            <ul id="card-emails" class="list"></ul>
          </div>
          <div class="group">
            <div class="label">Phones</div>
            <ul id="card-phones" class="list"></ul>
          </div>
          <div class="group">
            <div class="label">Hours</div>
            <div id="card-hours" class="text"></div>
          </div>
        </div>
        <div>
          <div class="group">
            <div class="label">Address</div>
            <div id="card-address" class="text"></div>
          </div>
          <div id="map-container" class="mapRow" hidden>
            <img id="map-image" class="map-img" alt="Map Preview" />
            <a id="map-link" class="map-link" target="_blank" rel="noopener">See map</a>
          </div>
        </div>
      </div>
    </section>

    <section class="card">
      <div class="grid grid-2">
        <div class="field">
          <label for="pax-email">Passenger Email</label>
          <input id="pax-email" class="input" type="email" placeholder="passenger@example.com" />
        </div>
        <div class="field">
          <label for="pax-phone">Passenger WhatsApp (E.164)</label>
          <input id="pax-phone" class="input" placeholder="+9715XXXXXXXX" />
        </div>
      </div>
      <div class="field maintain-space">
        <label for="pax-note">Optional note to include</label>
        <textarea id="pax-note" class="textarea" placeholder="Any extra info to include (optional)"></textarea>
      </div>
      <div class="field maintain-space">
        <label>Preview of the message:</label>
        <div class="card">
          <pre id="message-preview" class="pre"></pre>
        </div>
      </div>
      <div class="actions">
        <div class="button-group">
          <button id="send-email-btn" class="btn btn-blue">Send Email</button>
          <button id="send-whatsapp-btn" class="btn btn-green">Send WhatsApp (Business API)</button>
          <a id="open-whatsapp-btn" class="btn btn-orange" target="_blank" rel="noopener">Open WhatsApp (Click-to-Chat)</a>
          <button id="copy-message-btn" class="btn btn-purple">Copy Message</button>
        </div>
        <p id="status-message" class="status" role="status" aria-live="polite"></p>
      </div>
    </section>
  </main>

  <script>
    window.CONFIG = {
      WORKER_URL: 'https://kenan.kenan-alhennawi.workers.dev',
      BRAND_SIGNATURE: 'â€” Flydubai Contact Centre'
    };
  </script>
  <script src="app.js" defer></script>
</body>
</html>
